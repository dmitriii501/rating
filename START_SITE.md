# üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∞–π—Ç –Ω–∞ Timeweb

## –ì–ª–∞–≤–Ω–æ–µ

–ù–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ Timeweb —Å–∞–π—Ç —Å—Ç–∞—Ä—Ç—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: –∑–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ `~/web/<–¥–æ–º–µ–Ω>/public_html`, –≤–∫–ª—é—á–∏—Ç–µ Python –≤ –ø–∞–Ω–µ–ª–∏ –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `index.wsgi` + `.htaccess` –Ω–∞ –º–µ—Å—Ç–µ. –û—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∑–∞–ø—É—Å–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º

### 1. –§–∞–π–ª—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```bash
cd ~/web/<–¥–æ–º–µ–Ω>/public_html
ls -la
```

–í –∫–∞—Ç–∞–ª–æ–≥–µ –¥–æ–ª–∂–Ω—ã –ª–µ–∂–∞—Ç—å:
- `index.wsgi`, `.htaccess`, `.env`
- `app/`, `migrations/`, `requirements.txt`, `create_admin.py`, `seed_data.py`
- `venv/` (—Å–æ–∑–¥–∞–Ω–Ω–æ–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ)

### 2. –ü—Ä–∞–≤–∞

```bash
chmod 755 index.wsgi wsgi.py
chmod 644 .env
chmod -R 755 app/
chmod 755 public_html
```

### 3. –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
python3 -m venv venv
source venv/bin/activate
pip install --upgrade pip
pip install -r requirements.txt
pip list | grep Flask
```

### 4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
ls -la student_rating.db
flask db upgrade
python seed_data.py
```

### 5. `.env`

```bash
cat .env
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä:
```
FLASK_ENV=production
FLASK_DEBUG=False
SECRET_KEY=<—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ python generate_secret_key.py>
DATABASE_URL=sqlite:///student_rating.db
```

---

## üåê –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –í –ø–∞–Ω–µ–ª–∏ Timeweb ‚Üí **–°–∞–π—Ç—ã ‚Üí –≤–∞—à –¥–æ–º–µ–Ω ‚Üí Python** –≤–∫–ª—é—á–∏—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É Python (–≤—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä—Å–∏—é 3.10+).
2. `.htaccess` (–≤ `public_html`) –≤–∫–ª—é—á–∞–µ—Ç `Options +ExecCGI` –∏ –ø–µ—Ä–µ–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –≤ `index.wsgi`.
3. `index.wsgi` –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç `venv`, —á–∏—Ç–∞–µ—Ç `.env` –∏ –≤—ã–∑—ã–≤–∞–µ—Ç `create_app()`.
4. –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –æ—Ç–∫—Ä–æ–π—Ç–µ `https://<–¥–æ–º–µ–Ω>/` –∏ `https://<–¥–æ–º–µ–Ω>/admin/login`. –ò–Ω–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è 3‚Äì5 –º–∏–Ω—É—Ç, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å.

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ª–æ–≥–∏

- –ì–ª–∞–≤–Ω–∞—è: `https://<–¥–æ–º–µ–Ω>/`
- –ê–¥–º–∏–Ω–∫–∞: `https://<–¥–æ–º–µ–Ω>/admin/login`
- –õ–æ–≥–∏:
  ```bash
  tail -n 100 ~/logs/<–¥–æ–º–µ–Ω>.error.log
  tail -n 100 ~/logs/<–¥–æ–º–µ–Ω>.access.log
  ```

---

## üÜò –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

| –°–∏–º–ø—Ç–æ–º | –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å |
| --- | --- |
| 500 Internal Server Error | –õ–æ–≥–∏ `~/logs/<–¥–æ–º–µ–Ω>.error.log`, –Ω–∞–ª–∏—á–∏–µ `venv`, –ø—Ä–∞–≤–∞ –Ω–∞ `index.wsgi` |
| `SECRET_KEY must be set` | –í `.env` –Ω–µ—Ç `SECRET_KEY` |
| ¬´–°–∞–π—Ç –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω¬ª | –§–∞–π–ª—ã –Ω–µ –≤ `public_html`, Python –≤—ã–∫–ª—é—á–µ–Ω –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `index.wsgi` |
| –ù–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ | –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python create_admin.py` (–∏–ª–∏ `--auto`) |
| SQLite –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è | –ü—Ä–∞–≤–∞ `chmod 755 public_html`, `chmod 644 student_rating.db` |

–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
```bash
source venv/bin/activate
python -c "from app import create_app; create_app(); print('OK')"
```
```bash
tail -f ~/logs/<–¥–æ–º–µ–Ω>.error.log
```

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç

- [ ] –ü—Ä–æ–µ–∫—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –≤ `public_html`
- [ ] –°–æ–∑–¥–∞–Ω–æ `venv`, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] `.env` –∑–∞–ø–æ–ª–Ω–µ–Ω (SECRET_KEY, DATABASE_URL –∏ –¥—Ä.)
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω—ã `flask db upgrade` –∏ `python seed_data.py`
- [ ] –°–æ–∑–¥–∞–Ω –∞–¥–º–∏–Ω —á–µ—Ä–µ–∑ `create_admin.py`
- [ ] –ü—Ä–∞–≤–∞ –Ω–∞ `index.wsgi`, `.env`, `app/` –≤—ã—Å—Ç–∞–≤–ª–µ–Ω—ã
- [ ] Python –≤–∫–ª—é—á—ë–Ω –≤ –ø–∞–Ω–µ–ª–∏ Timeweb –∏ –ø—Ä–∏–≤—è–∑–∞–Ω `index.wsgi`
- [ ] –õ–æ–≥–∏ —á–∏—Å—Ç—ã–µ, —Å–∞–π—Ç –æ—Ç–≤–µ—á–∞–µ—Ç

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ï—Å–ª–∏ —á–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –¥–æ–º–µ–Ω ‚Äî Timeweb –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Å–ª—É–∂–∏—Ç –≤–∞—à–µ Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ó–∞ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—è–º–∏ –∑–∞–≥–ª—è–Ω–∏—Ç–µ –≤ `DEPLOY.md` –∏ `ISPManager_INSTRUCTIONS.md`.

